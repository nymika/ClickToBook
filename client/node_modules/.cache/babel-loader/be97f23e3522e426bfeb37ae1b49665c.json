{"ast":null,"code":"var _jsxFileName = \"/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/MovieListing.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport styles from './stylesheets/MovieListing.module.css';\nimport Movie from './Movie';\nimport deadpool from \"./images/deadpool.jpg\";\nimport alice from \"./images/alice.jpg\";\nimport harrypotter from \"./images/deathly-hallows-p2-2.jpg\";\nimport FF from \"./images/fast-five-2.jpg\";\nimport batman from \"./images/batman-v-superman-dawn-of-justice-3.jpg\";\nimport alpha from \"./images/alpha-alert-1.jpg\";\nimport Axios from 'axios';\n\nclass MovieListing extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteMovieHandler = movieIndex => {\n      const movies = [...this.state.movies];\n      movies.splice(movieIndex, 1);\n      this.setState({\n        movies: movies\n      });\n    };\n\n    this.ShowMoviesAPIHandler = () => {\n      axios.get('http://localhost:3001/getmovies').then(response => {\n        console.log('show movies done');\n        console.log(response.data);\n        const newMovie = response.data; // this.setState({\n        //     movies: [...this.state.movies, newMovie]\n        // });\n\n        const newArray = this.state.movies.slice(); // Create a copy\n\n        newArray.push(newMovie); // Push the object\n\n        this.setState({\n          movies: newArray\n        });\n        console.log(this.state.movies);\n      }).catch(e => alert(e));\n    };\n\n    this.state = {\n      movies: [],\n      showMovies: true\n    };\n  }\n\n  componentDidMount() {\n    this.ShowMoviesAPIHandler();\n  }\n\n  render() {\n    let movies = null;\n\n    if (this.state.showMovies) {\n      movies = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.state.movies.map((movie, index) => {\n        return [React.createElement(Movie, {\n          Title: movie.Title,\n          Poster: movie.Poster,\n          DateofRelease: movie.DateofRelease,\n          Duration: movie.Duration,\n          Director: movie.Director,\n          Starring: movie.Starring,\n          Genre: movie.Genre,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: styles.Delete,\n          onClick: () => this.deleteMovieHandler(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Delete\")];\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      className: styles.MovieListing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: styles.heading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Movie Listing : \"), movies);\n  }\n\n}\n\nexport default MovieListing; // state = {\n//     movies : [\n//         {id : 'Deadpool', Title : 'Deadpool', Poster : deadpool,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'},\n//         {id : 'Alice', Title : 'Alice through the looking glass', Poster : alice, \n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'},\n//         {id : 'HarryPotter', Title : 'HarryPotter', Poster : harrypotter,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'\n//         },\n//         {id : 'FF', Title : 'Fast&Furious', Poster : FF,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'\n//     },\n//         {id : 'Batman', Title : 'Batman', Poster : batman,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'},\n//         {id : 'alpha', Title : 'Alpha Alert', Poster : alpha,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'},\n//         {id : 'ASVR', Title : 'ASVR', Poster : deadpool,\n//             DateofRelease : '2018',\n//             Duration : '132 min',\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\n//             Director : 'Tim Miller',\n//             Genre : 'Action'}\n//     ],\n//     otherState : 'some other value',\n//     showMovies : true\n// }","map":{"version":3,"sources":["/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/MovieListing.js"],"names":["React","Component","axios","styles","Movie","deadpool","alice","harrypotter","FF","batman","alpha","Axios","MovieListing","constructor","props","deleteMovieHandler","movieIndex","movies","state","splice","setState","ShowMoviesAPIHandler","get","then","response","console","log","data","newMovie","newArray","slice","push","catch","e","alert","showMovies","componentDidMount","render","map","movie","index","Title","Poster","DateofRelease","Duration","Director","Starring","Genre","Delete","heading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport styles from './stylesheets/MovieListing.module.css';\r\n\r\nimport Movie from './Movie';\r\n\r\nimport deadpool from \"./images/deadpool.jpg\";\r\nimport alice from \"./images/alice.jpg\";\r\nimport harrypotter from \"./images/deathly-hallows-p2-2.jpg\";\r\nimport FF from \"./images/fast-five-2.jpg\";\r\nimport batman from \"./images/batman-v-superman-dawn-of-justice-3.jpg\";\r\nimport alpha from \"./images/alpha-alert-1.jpg\";\r\nimport Axios from 'axios';\r\n\r\nclass MovieListing extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            movies: [],\r\n            showMovies: true\r\n        }\r\n    }\r\n\r\n    deleteMovieHandler = (movieIndex) => {\r\n        const movies = [...this.state.movies];\r\n        movies.splice(movieIndex, 1);\r\n        this.setState({ movies: movies });\r\n    }\r\n\r\n    ShowMoviesAPIHandler = () => {\r\n        axios.get('http://localhost:3001/getmovies')\r\n            .then(response => {\r\n                console.log('show movies done')\r\n                console.log(response.data)\r\n                const newMovie = response.data;\r\n                // this.setState({\r\n                //     movies: [...this.state.movies, newMovie]\r\n                // });\r\n                const newArray = this.state.movies.slice(); // Create a copy\r\n    newArray.push(newMovie); // Push the object\r\n    this.setState({ movies: newArray });\r\n                console.log(this.state.movies);\r\n            }).catch((e) => alert(e));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ShowMoviesAPIHandler();\r\n    }\r\n\r\n    render() {\r\n        let movies = null;\r\n        if (this.state.showMovies) {\r\n            movies =\r\n                (\r\n                    <div>\r\n                        {this.state.movies.map((movie, index) => {\r\n                            return (\r\n                                [<Movie\r\n                                    Title={movie.Title}\r\n                                    Poster={movie.Poster}\r\n                                    DateofRelease={movie.DateofRelease}\r\n                                    Duration={movie.Duration}\r\n                                    Director={movie.Director}\r\n                                    Starring={movie.Starring}\r\n                                    Genre={movie.Genre} />,\r\n\r\n                                <button className={styles.Delete}\r\n                                    onClick={() => this.deleteMovieHandler(index)}>\r\n                                    Delete</button>]\r\n                            )\r\n                        })}\r\n                    </div>\r\n\r\n\r\n\r\n                )\r\n        }\r\n        return (\r\n            <div className={styles.MovieListing}>\r\n                <h1 className={styles.heading}>Movie Listing : </h1>\r\n                {movies}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieListing;\r\n\r\n// state = {\r\n//     movies : [\r\n//         {id : 'Deadpool', Title : 'Deadpool', Poster : deadpool,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'},\r\n//         {id : 'Alice', Title : 'Alice through the looking glass', Poster : alice, \r\n\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'},\r\n//         {id : 'HarryPotter', Title : 'HarryPotter', Poster : harrypotter,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'\r\n//         },\r\n//         {id : 'FF', Title : 'Fast&Furious', Poster : FF,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'\r\n//     },\r\n//         {id : 'Batman', Title : 'Batman', Poster : batman,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'},\r\n//         {id : 'alpha', Title : 'Alpha Alert', Poster : alpha,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'},\r\n//         {id : 'ASVR', Title : 'ASVR', Poster : deadpool,\r\n//             DateofRelease : '2018',\r\n//             Duration : '132 min',\r\n//             Starring : 'Ryan Reynolds, Morena Baccarin, Ed Skrein, T. J. Miller',\r\n//             Director : 'Tim Miller',\r\n//             Genre : 'Action'}\r\n//     ],\r\n//     otherState : 'some other value',\r\n//     showMovies : true\r\n// }"]},"metadata":{},"sourceType":"module"}