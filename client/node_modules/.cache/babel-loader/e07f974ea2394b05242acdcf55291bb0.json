{"ast":null,"code":"var _jsxFileName = \"/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/TheatreDetailedPage.js\";\nimport React, { Component } from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport styles from './stylesheets/TheatreDetailedPage.module.css';\nimport SlotDetails from './SlotDetails';\nimport ShowTheatres from \"../Customer/ShowTheatres\";\nimport TheatreSeats from '../Customer/TheatreSeats';\n\nclass TheatreDetailedPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      theatres: [],\n      getSlotInfoBody: {\n        day: ''\n      },\n      postSlotInfoBody: {\n        movieid: '',\n        priceInfo: {\n          A: '',\n          B: ''\n        },\n        bookingInfo: [{\n          day: '',\n          status: '',\n          slot: ''\n        }]\n      }\n    };\n\n    this.ShowTheatresAPIHandler = () => {\n      axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\n      axios.get('http://localhost:3000/theatres').then(response => {\n        console.log('show theatres done');\n        this.setState({\n          theatres: response.data.active\n        }); //console.log(this.state)\n      }).catch(e => alert(e));\n    };\n  }\n\n  componentDidMount() {\n    this.ShowTheatresAPIHandler();\n  }\n\n  render() {\n    var selectedTheatreId = this.props.match.params.id;\n    var selectedTheatre = null;\n    this.state.theatres.filter(theatre => {\n      if (theatre._id === selectedTheatreId) {\n        selectedTheatre = theatre;\n      }\n    });\n    console.log(selectedTheatre);\n\n    if (selectedTheatre) {\n      return React.createElement(\"div\", {\n        className: styles.movie,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, selectedTheatre.name), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" Location : \", selectedTheatre.location.street, \", \", selectedTheatre.location.city, \", \", selectedTheatre.location.state, \", \", selectedTheatre.location.country), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" Lease Info : \", selectedTheatre.leaseInfo.startDate, \" - \", selectedTheatre.leaseInfo.lastDate), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Gold seats : \", selectedTheatre.seatInfo.A, \", Balcony seats : \", selectedTheatre.seatInfo.B)), React.createElement(\"input\", {\n        type: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: styles.slotList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, selectedTheatre.slotInfo.map((slot, idx) => {\n        return React.createElement(\"div\", {\n          key: idx,\n          className: styles.slotListElement,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: this.props.match.url + \"/SlotDetails/:SlotId\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, `Show - ${idx + 1}`), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, `${idx + 1}`, \", \", slot.startTime, \" - \", slot.endTime)));\n      })), React.createElement(Route, {\n        path: this.props.match.url + \"/SlotDetails/:SlotId\",\n        component: SlotDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }));\n    } else return React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Loading\");\n  }\n\n}\n\nexport default TheatreDetailedPage;","map":{"version":3,"sources":["/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/TheatreDetailedPage.js"],"names":["React","Component","Route","Link","axios","styles","SlotDetails","ShowTheatres","TheatreSeats","TheatreDetailedPage","state","theatres","getSlotInfoBody","day","postSlotInfoBody","movieid","priceInfo","A","B","bookingInfo","status","slot","ShowTheatresAPIHandler","defaults","headers","common","localStorage","getItem","get","then","response","console","log","setState","data","active","catch","e","alert","componentDidMount","render","selectedTheatreId","props","match","params","id","selectedTheatre","filter","theatre","_id","movie","name","location","street","city","country","leaseInfo","startDate","lastDate","seatInfo","slotList","slotInfo","map","idx","slotListElement","url","startTime","endTime"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Link } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport styles from './stylesheets/TheatreDetailedPage.module.css';\nimport SlotDetails from './SlotDetails'\nimport ShowTheatres from \"../Customer/ShowTheatres\";\nimport TheatreSeats from '../Customer/TheatreSeats';\n\nclass TheatreDetailedPage extends Component {\n    state = {\n        theatres: [],\n        getSlotInfoBody: {\n            day: ''\n        },\n        postSlotInfoBody: {\n            movieid: '',\n            priceInfo: {\n                A: '',\n                B: ''\n            },\n            bookingInfo: [\n                {\n                    day: '',\n                    status: '',\n                    slot: ''\n                }\n            ]\n        }\n    }\n\n    ShowTheatresAPIHandler = () => {\n        axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\n        axios.get('http://localhost:3000/theatres')\n            .then(response => {\n                console.log('show theatres done')\n                this.setState({\n                    theatres: response.data.active,\n                });\n                //console.log(this.state)\n            }).catch((e) => alert(e));\n    }\n\n    componentDidMount() {\n        this.ShowTheatresAPIHandler();\n    }\n\n    render() {\n        var selectedTheatreId = this.props.match.params.id;\n        var selectedTheatre = null;\n        this.state.theatres.filter(theatre => {\n            if (theatre._id === selectedTheatreId) {\n                selectedTheatre = theatre\n            }\n        });\n        console.log(selectedTheatre)\n        if (selectedTheatre) {\n            return (\n                <div className={styles.movie}>\n                    <div >\n                        <h1 >{selectedTheatre.name}</h1>\n                        <h3 > Location : {selectedTheatre.location.street}, {selectedTheatre.location.city}, {selectedTheatre.location.state}, {selectedTheatre.location.country}</h3>\n                        <h3 > Lease Info : {selectedTheatre.leaseInfo.startDate} - {selectedTheatre.leaseInfo.lastDate}</h3>\n                        <h3 >Gold seats : {selectedTheatre.seatInfo.A}, Balcony seats : {selectedTheatre.seatInfo.B}</h3>\n                    </div>\n\n                    <input type=\"date\"></input>\n                    <div className={styles.slotList}>\n                        {\n                            selectedTheatre.slotInfo.map((slot, idx) => {\n                                return (\n                                    <div key={idx} className={styles.slotListElement}>\n                                        <Link to={this.props.match.url + \"/SlotDetails/:SlotId\"}>\n                                            <h3>{`Show - ${idx + 1}`}</h3>\n                                            <p>{`${idx + 1}`}, {slot.startTime} - {slot.endTime}</p>\n                                        </Link>\n\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                    <Route path={this.props.match.url + \"/SlotDetails/:SlotId\"} component={SlotDetails} />\n                </div>\n            )\n        }\n        else\n            return (\n                <h1>Loading</h1>\n            )\n    }\n}\n\nexport default TheatreDetailedPage"]},"metadata":{},"sourceType":"module"}