{"ast":null,"code":"var _jsxFileName = \"/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/TheatreListing.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport styles from './stylesheets/TheatreListing.module.css';\nimport Theatre from './Theatre';\n\nclass TheatreListing extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      active: [],\n      expired: [],\n      unapproved: [],\n      showTheatres: true\n    };\n\n    this.deleteTheatreHandler = theatreIndex => {\n      const theatres = [...this.state.theatres];\n      theatres.splice(theatreIndex, 1);\n      this.setState({\n        theatres: theatres\n      });\n    };\n\n    this.ShowTheatresAPIHandler = () => {\n      axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\n      axios.get('http://localhost:3000/theatres').then(response => {\n        console.log('show theatres done');\n        this.setState({\n          active: response.data.active,\n          expired: response.data.expired,\n          unapproved: response.data.unapproved\n        });\n        console.log(response.data);\n        console.log(this.state);\n      }).catch(e => alert(e));\n    };\n  }\n\n  componentDidMount() {\n    this.ShowTheatresAPIHandler();\n  }\n\n  render() {\n    let theatres = null; // if(thi)\n    // if (this.state.showTheatres) {\n    //     return(\n    //         <h1>hi</h1>\n    //     )\n\n    theatres = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"this.state.unapproved.map((theatre, index) => \", //     return (\n    //         [<Theatre\n    //             id={theatre.id}\n    //             Title={theatre.Title}\n    //             Location={theatre.Location}\n    //             Screens={theatre.Screens}\n    //         />,\n    //         <button className={styles.Delete}\n    //             onClick={() => this.deleteTheatreHandler(index)}>\n    //             Delete</button>]\n    //     )\n    // })\n    React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"movies yet added!\"));\n    return React.createElement(\"div\", {\n      className: styles.MovieListing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: styles.heading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Theatre Listing : \"), theatres);\n  }\n\n}\n\nexport default TheatreListing;","map":{"version":3,"sources":["/home/nymika/Documents/ClickToBook/clicktobook/client/src/components/Theatre Owner/TheatreListing.js"],"names":["React","Component","axios","styles","Theatre","TheatreListing","state","active","expired","unapproved","showTheatres","deleteTheatreHandler","theatreIndex","theatres","splice","setState","ShowTheatresAPIHandler","defaults","headers","common","localStorage","getItem","get","then","response","console","log","data","catch","e","alert","componentDidMount","render","MovieListing","heading"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCK,KAFmC,GAE3B;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,OAAO,EAAE,EAFL;AAGJC,MAAAA,UAAU,EAAE,EAHR;AAIJC,MAAAA,YAAY,EAAE;AAJV,KAF2B;;AAAA,SASnCC,oBATmC,GASXC,YAAD,IAAkB;AACrC,YAAMC,QAAQ,GAAG,CAAC,GAAG,KAAKP,KAAL,CAAWO,QAAf,CAAjB;AACAA,MAAAA,QAAQ,CAACC,MAAT,CAAgBF,YAAhB,EAA8B,CAA9B;AACA,WAAKG,QAAL,CAAc;AAAEF,QAAAA,QAAQ,EAAEA;AAAZ,OAAd;AACH,KAbkC;;AAAA,SAenCG,sBAfmC,GAeV,MAAM;AAC3Bd,MAAAA,KAAK,CAACe,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAjD;AACAnB,MAAAA,KAAK,CAACoB,GAAN,CAAU,gCAAV,EACKC,IADL,CACUC,QAAQ,IAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,aAAKX,QAAL,CAAc;AACVR,UAAAA,MAAM,EAAEiB,QAAQ,CAACG,IAAT,CAAcpB,MADZ;AAEVC,UAAAA,OAAO,EAAEgB,QAAQ,CAACG,IAAT,CAAcnB,OAFb;AAGVC,UAAAA,UAAU,EAAEe,QAAQ,CAACG,IAAT,CAAclB;AAHhB,SAAd;AAKAgB,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAjB;AACH,OAVL,EAUOsB,KAVP,CAUcC,CAAD,IAAOC,KAAK,CAACD,CAAD,CAVzB;AAWH,KA5BkC;AAAA;;AA8BnCE,EAAAA,iBAAiB,GAAG;AAChB,SAAKf,sBAAL;AACH;;AAEDgB,EAAAA,MAAM,GAAG;AACL,QAAInB,QAAQ,GAAG,IAAf,CADK,CAEL;AACA;AACA;AACA;AACA;;AACAA,IAAAA,QAAQ,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAEQ;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAfR,CADJ;AAoBA,WACI;AAAK,MAAA,SAAS,EAAEV,MAAM,CAAC8B,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAE9B,MAAM,CAAC+B,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEKrB,QAFL,CADJ;AAMH;;AAnEkC;;AAsEvC,eAAeR,cAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport styles from './stylesheets/TheatreListing.module.css'\r\nimport Theatre from './Theatre'\r\n\r\nclass TheatreListing extends Component {\r\n\r\n    state = {\r\n        active: [],\r\n        expired: [],\r\n        unapproved: [],\r\n        showTheatres: true\r\n    }\r\n\r\n    deleteTheatreHandler = (theatreIndex) => {\r\n        const theatres = [...this.state.theatres];\r\n        theatres.splice(theatreIndex, 1);\r\n        this.setState({ theatres: theatres });\r\n    }\r\n\r\n    ShowTheatresAPIHandler = () => {\r\n        axios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\r\n        axios.get('http://localhost:3000/theatres')\r\n            .then(response => {\r\n                console.log('show theatres done')\r\n                this.setState({\r\n                    active: response.data.active,\r\n                    expired: response.data.expired,\r\n                    unapproved: response.data.unapproved\r\n                });\r\n                console.log(response.data)\r\n                console.log(this.state);\r\n            }).catch((e) => alert(e));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ShowTheatresAPIHandler();\r\n    }\r\n\r\n    render() {\r\n        let theatres = null;\r\n        // if(thi)\r\n        // if (this.state.showTheatres) {\r\n        //     return(\r\n        //         <h1>hi</h1>\r\n        //     )\r\n        theatres =\r\n            <div>\r\n                this.state.unapproved.map((theatre, index) => {\r\n                    //     return (\r\n                    //         [<Theatre\r\n                    //             id={theatre.id}\r\n                    //             Title={theatre.Title}\r\n                    //             Location={theatre.Location}\r\n                    //             Screens={theatre.Screens}\r\n                    //         />,\r\n\r\n                    //         <button className={styles.Delete}\r\n                    //             onClick={() => this.deleteTheatreHandler(index)}>\r\n                    //             Delete</button>]\r\n                    //     )\r\n                    // })\r\n                    <h2>movies yet added!</h2>\r\n                }\r\n            </div>\r\n\r\n        return (\r\n            <div className={styles.MovieListing} >\r\n                <h1 className={styles.heading} >Theatre Listing : </h1>\r\n                {theatres}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TheatreListing;\r\n"]},"metadata":{},"sourceType":"module"}